.build:alpha:needs:
  needs:
    - job: 'set:version'
    - job: 'gate:preconditions'
    - job: 'build:debug'
      artifacts: false
      optional: true

.build:alpha:
  variables:
    PRE_RELEASE: a$BUILD_NUMBER
    _SEMVER: ${VERSION}-${_PRE_RELEASE}+${BUILD}
    SEMVER: ${VERSION}-${_PRE_RELEASE}+${BUILD}
  needs:
    - !reference [.build:alpha:needs, needs]

build:alpha:
  extends:
    - .build_base
    - .build
    - .build:alpha
    - .build:override
  rules:
    - if: $RP_BUILDS_DISABLED == 'true'
      when: never
    - !reference [.non-release_rules, rules]
